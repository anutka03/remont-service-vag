function animateOnScroll(){document.querySelectorAll(".fade-in-up, .fade-in-left").forEach((e=>{e.getBoundingClientRect().top<.9*window.innerHeight&&!e.classList.contains("visible")&&e.classList.add("visible")}))}let promotionSwiper,repairSwiper;function initRepairSwiper(){return new Swiper(".repair-slider",{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination"}})}function initPromotionSwiper(){promotionSwiper?.destroy(!0,!0),promotionSwiper=new Swiper(".promotionSwiper",{slidesPerView:2,spaceBetween:16,centeredSlides:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{991:{slidesPerView:"auto",spaceBetween:30},768:{slidesPerView:2,spaceBetween:16},375:{slidesPerView:1,spaceBetween:16}}})}function restructureSlides(e,t){const i=[...e.querySelectorAll(".promotion__item")];e.innerHTML="",i.forEach((t=>{const i=document.createElement("div");i.className="swiper-slide",i.appendChild(t.cloneNode(!0)),e.appendChild(i)}))}function restoreSlides(e,t){e.innerHTML=t}function lazySwiperInit(e,t){const i=document.querySelector(e);if(!i)return;new IntersectionObserver((([e],i)=>{e.isIntersecting&&(t(),i.unobserve(e.target))})).observe(i)}document.addEventListener("DOMContentLoaded",(()=>{const e=document.body,t=document.querySelector(".feedback-modal"),i=document.querySelector("#modal-title"),n=document.querySelector(".header"),r=document.querySelector(".menu");document.querySelector(".menu-open")?.addEventListener("click",(()=>{r?.classList.toggle("open"),e.classList.toggle("lock")})),document.querySelector(".menu-close")?.addEventListener("click",(()=>{r?.classList.remove("open"),e.classList.remove("lock")})),document.addEventListener("click",(n=>{const r=n.target.closest(".open-form-btn");if(r){const n=r.dataset.title||"Оставить заявку";t?.classList.add("active"),e.classList.add("lock"),i&&(i.textContent=n)}t&&n.target===t&&(t.classList.remove("active"),e.classList.remove("lock"))})),document.querySelectorAll(".accordion__item").forEach((e=>{e.querySelector(".accordion__header")?.addEventListener("click",(()=>{document.querySelectorAll(".accordion__item").forEach((t=>{t!==e&&t.classList.remove("accordion__item--active")})),e.classList.toggle("accordion__item--active")}))})),setTimeout((()=>document.querySelector(".main__title")?.classList.add("animate")),500),setTimeout((()=>document.querySelector(".main__btns")?.classList.add("animate")),1e3),window.jQuery&&$(".phone").mask("+7(999) 999-99-99"),window.addEventListener("scroll",(()=>{n?.classList.toggle("scrolled",window.scrollY>0)}))})),["scroll","load","resize"].forEach((e=>window.addEventListener(e,animateOnScroll))),document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".promotionSwiper .swiper-wrapper"),t=e?.innerHTML;repairSwiper=initRepairSwiper();const i=()=>{e&&(window.innerWidth<=991?restructureSlides(e,t):restoreSlides(e,t),initPromotionSwiper())};let n;window.addEventListener("resize",(()=>{clearTimeout(n),n=setTimeout(i,200)})),i(),lazySwiperInit(".aboutSwiper",(()=>{new Swiper(".aboutSwiper",{slidesPerView:3,spaceBetween:16,breakpoints:{1400:{slidesPerView:3},991:{slidesPerView:2},768:{slidesPerView:2},375:{slidesPerView:1},320:{slidesPerView:1}}})})),lazySwiperInit(".sertSwiper",(()=>{new Swiper(".sertSwiper",{slidesPerView:3,spaceBetween:16,pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{991:{slidesPerView:3,spaceBetween:15},768:{slidesPerView:2,spaceBetween:15},576:{slidesPerView:2,spaceBetween:10},400:{slidesPerView:2,spaceBetween:10},375:{slidesPerView:1,spaceBetween:10}}})}))}));